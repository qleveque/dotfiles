cmd.exe /C rundll32.exe

cmd(){
    cmd.exe /C $@
}

unset -f open
open(){
    if [[ -n "$@" ]]
    then
        /mnt/c/Windows/System32/cmd.exe /C start "" "$@"
    fi
}

setopt +o nomatch
for filename in ~/mybats/*; do
    leaf=$(basename $filename)
    com=${leaf%.*}
    repl="cmd.exe /C %HOME%/mybats/${com}.bat"
    alias "$com=$repl"
done
unset leaf
unset com
unset repl
