for [bg, contexts] in items({
    \PALETTE_1:['ActiveWin','TelescopeNormal','StatusLine'],
    \PALETTE_2:['CursorLine','InactiveWin','StatusLineNC','WinSeparator'],
    \PALETTE_3:['CursorLineNr','LineNr','BufferTabpageFill','TelescopeSelection',
    \  'User1','NvimTreeCursorLine','CocMenuSel','PmenuSel'],
    \PALETTE_4:['Visual','Pmenu','CocFloating','CurSearch', 'AerialLine',
    \  'CocErrorSign','CocWarningSign','CocInfoSign','CocHintSign']})
  for context in contexts
    exe 'hi '.context.' gui=none guifg=none guibg='.bg
  endfor
endfor

for v in ['','Mod','Index','Sign']
  exe 'hi BufferCurrent'.v.' guibg='.PALETTE_1
  exe 'hi BufferInactive'.v.' guibg='.PALETTE_3
  exe 'hi BufferVisible'.v.' guibg='.PALETTE_3
endfor

for v in ['User1', 'StatusLine', 'StatusLineNC']
  exe 'hi '.v.' gui=underline'
endfor

hi DiffDelete guibg=IndianRed4 guifg=IndianRed4
hi DiffAdd gui=none guifg=none guibg=DarkGreen
hi DiffText gui=none guifg=none guibg=SlateBlue
hi DiffChange guibg=none

hi Cursor gui=reverse
hi Visual guifg=white
hi CocErrorFloat guifg=orange
au FocusLost * setlocal winhl=Normal:InactiveWin
au BufNew,BufLeave,BufRead,FocusGained * setlocal winhl+=Normal:ActiveWin,NormalNC:InactiveWin
