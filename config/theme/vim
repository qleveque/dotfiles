" vim: set ft=vim:
set tgc
set stl=%1*\ \%f%m\ %0*%=

for [bg, contexts] in items({
    \PALETTE_1:['ActiveWin','TelescopeNormal','StatusLine','NormalFloat','WinSeparator'],
    \PALETTE_2:['CursorLine','InactiveWin','StatusLineNC'],
    \PALETTE_3:['CursorLineNr','LineNr','BufferTabpageFill','TelescopeSelection',
    \  'NvimTreeCursorLine','Pmenu','HighlightedyankRegion'],
    \PALETTE_4:['User1', 'Visual','PmenuSel','CurSearch', 'AerialLine']})
  for context in contexts
    exe 'hi '.context.' gui=none guifg=none guibg='.bg
  endfor
endfor

for v in ['','Mod','Index','Sign']
  exe 'hi BufferCurrent'.v.' guibg='.PALETTE_1
  exe 'hi BufferInactive'.v.' guibg='.PALETTE_3
  exe 'hi BufferVisible'.v.' guibg='.PALETTE_3
endfor

for v in [["Error", "IndianRed", ""],
         \["Warn", "orange", ""],
         \["Info", "LightSkyBlue3", ""],
         \["Hint", "LimeGreen", ""]]
  exe 'hi Text'.v[0].' guibg='.PALETTE_3.' guifg='.v[1]
  exe 'hi DiagnosticFloating'.v[0].' guifg='.v[1]
  exe 'sign define DiagnosticSign'.v[0].' text='.v[2].' texthl=Text'.v[0]
endfor

for v in ['User1', 'StatusLine', 'StatusLineNC']
  exe 'hi '.v.' gui=underline'
endfor

hi DiffDelete guibg=IndianRed4 guifg=IndianRed4
hi DiffAdd gui=none guifg=none guibg=DarkGreen
hi DiffText gui=none guifg=none guibg=SlateBlue
hi DiffChange guibg=none

hi Cursor gui=reverse
hi Visual guifg=white

au FocusLost * setlocal winhl=Normal:InactiveWin
au BufNew,BufLeave,BufRead,FocusGained * setlocal winhl+=Normal:ActiveWin,NormalNC:InactiveWin
